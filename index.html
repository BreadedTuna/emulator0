<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Linux in - v86</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            background: #000;
        }
        #v86screen {
            width: 100%;
            height: 100%;
        }
    </style>
    <!-- v86 library -->
    <script src="https://copy.sh/v86/build/libv86.js"></script>
</head>
<body>
    <div id="v86screen"></div>
    <script>
        const emulator = new V86({
            wasm_path: "https://copy.sh/v86/build/v86.wasm",
            memory_size: 128 * 1024 * 1024, // 128 MB RAM
            vga_memory_size: 8 * 1024 * 1024,
            screen_container: document.getElementById("v86screen"),
            bios: { url: "https://copy.sh/v86/bios/seabios.bin" },
            vga_bios: { url: "https://copy.sh/v86/bios/vgabios.bin" },
            kernel: { url: "https://copy.sh/v86/images/linux-libre.bin" },
            cmdline: "console=ttyS0",
            autostart: true
        });

        emulator.add_listener("serial0-output-char", function(c) {
            // optional: print kernel output to console
            // console.log(c);
        });

        emulator.add_listener("emulator-ready", function() {
            console.log("Linux VM is ready!");
        });
    </script>
</body>
</html>
